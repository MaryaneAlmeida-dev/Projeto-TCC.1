<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link rel="stylesheet" href="./compra.css">
    <title>Compra</title>
</head>

<body>
    <section>
        <header>
              <div class="promocao">
                <h2>CADASTRE-SE E GANHE 10% DE DESCONTO NA PRIMEIRA COMPRA!</h2>
            </div>

            <nav>
                <div class="header">
                    <div class="logo">BELLE</div>

                  
                    <div class="search-bar">
                    <img src="./Styles/header_styles/lupa.png" alt="Buscar">
                    <input type="text" placeholder="Digite aqui o que procura...">
                    </div>

                    <div class="icons">
                    <a href="./loginpage.html">
                        <img src="./Styles/header_styles/perfil.png" alt="Usuário" class="usuario">
                    </a>
                    
                    <a href="./carrinho.html" class="carrinho-link">
                        <img src="./Styles/header_styles/carrinho.png" alt="Carrinho" class="carrinho">
                        <span class="carrinho-contador" style="display: none;">0</span>
                    </a>
                    </div>
                </div>
        </nav>
        </header>
     </section>

</body>


  <section>
    <h1 class="nome">DIOR</h1>
  </section>


  <main class="container">    
    <div class="product-image">
      <img src="./Styles/page_compra/nova.png" alt="Perfume Dior J'adore">
    </div>


    <div class="product-info">
      <h2>DIOR</h2>
      <p class="title">j'adore feminino eau de toilette 100ml</p>
      <p class="price">R$ 915,00</p>
      <p class="installments">ou 10x de R$ 91,50</p>

      <div class="quantity">
        <span class="qtd-label">QTD</span>
        <div class="qtd-control">
          <button class="btn" id="diminuir-qtd">-</button>
          <input type="text" value="1" id="quantidade-input" readonly>
          <button class="btn" id="aumentar-qtd">+</button>
        </div>
      </div>

      <button class="add-cart" id="adicionar-carrinho">ADICIONAR AO CARRINHO</button>
    </div>
  </main>


  <section>
    <div>
        <h2 class="descricao">Descrição</h2><br>
        <p>J'Adore Feminino Eau de Toilette<br>
        J'adore Eau de Toilette é uma composição banhada em luz. <br>Neroli, uma das mais belas flores cheias de luz cultivadas perto de Vallauris, no terroir de Grasse, é trazida para o coração do lendário buquê floral de J'adore.<br>
        O perfumista-criador da Dior, François Demachy, revive a memória preciosa dos bosques de laranjeiras amargas de sua infância em Grasse.<br>
        "J'adore Eau de Toilette tem um temperamento extraordinário. Uma qualidade atraente e brilhante. É uma explosão imediata, um caminho direto para o prazer." - François Demachy, perfumista-criador da Dior.</p>
        
        <h2 class="mododeusar">Modo de Usar</h2><br>
        <p>Espirrar sobre a pele a 20cm.</p>

        <h2 class="especificacoes">Especificações</h2><br>
        <p>Pirâmide Olfativa<br>
        Notas de Topo: Essência de laranja sanguínea;<br>
        Notas de Coração: Essência de rosa Damascena;<br>
        Notas de Fundo: Essência de neroli de Vallauris.</p>
</div>
  </section>




 <footer>
     <section>
            <div class="footer">
                <div>
                    <img class="foto__logo" alt="Logo Foto" src="./Styles/footer/footer_logo.png">

                    <div> 
                    <a class="sobre__nos" href="#">sobre nós</a>
                    <p class="p">central de ajuda</p>
                    <p class="p2">consulte sua entrega</p>
                    </div>
                 </div>
            
            
            <div>
                <img class="foto__apps" alt="Logos de Aplicativos" src="./Styles/footer/logos.png">
                <p class="termos">Políticas de Privacidade | Termos de Uso</p>
            </div>
            
            <div>
                <img class="pagamentos" alt="Formas De Pagamentos" src="./Styles/footer/formas de pagamento.png">
            </div>
                
            </div>   
    </section>
</footer>

<script src="./static/js/carrinho.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const quantidadeInput = document.getElementById('quantidade-input');
    const btnDiminuir = document.getElementById('diminuir-qtd');
    const btnAumentar = document.getElementById('aumentar-qtd');
    const btnAdicionarCarrinho = document.getElementById('adicionar-carrinho');
    const precoElement = document.querySelector('.price');
    const parcelasElement = document.querySelector('.installments');

    let quantidade = 1;
    const precoUnitario = 915.00;

    // Função para atualizar a exibição
    function atualizarExibicao() {
        quantidadeInput.value = quantidade;
        const precoTotal = precoUnitario * quantidade;
        const parcelaMensal = precoTotal / 10;
        
        precoElement.textContent = `R$ ${precoTotal.toFixed(2).replace('.', ',')}`;
        parcelasElement.textContent = `ou 10x de R$ ${parcelaMensal.toFixed(2).replace('.', ',')}`;
    }

    // Diminuir quantidade
    btnDiminuir.addEventListener('click', function() {
        if (quantidade > 1) {
            quantidade--;
            atualizarExibicao();
        }
    });

    // Aumentar quantidade
    btnAumentar.addEventListener('click', function() {
        quantidade++;
        atualizarExibicao();
    });

    // Adicionar ao carrinho
    btnAdicionarCarrinho.addEventListener('click', function() {
        const produto = {
            id: 'dior-jadore',
            nome: 'DIOR',
            descricao: "j'adore feminino eau de toilette 100ml",
            preco: precoUnitario,
            quantidade: quantidade,
            imagem: './Styles/page_compra/nova.png'
        };

        carrinhoManager.adicionarProduto(produto);
        mostrarNotificacao(`${quantidade} ${quantidade === 1 ? 'produto adicionado' : 'produtos adicionados'} ao carrinho!`);
        
        // Reset quantidade para 1 após adicionar
        quantidade = 1;
        atualizarExibicao();
    });

    // Inicializar exibição
    atualizarExibicao();
});
</script>
</html>
